{% extends "base.html" %}

{% block title %}Sessions - No Agenda AI Mixer{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <h2><i class="fas fa-history"></i> Mix Sessions</h2>
        
        <div class="table-responsive mt-4">
            <table class="table table-dark table-hover">
                <thead>
                    <tr>
                        <th>Session ID</th>
                        <th>Created</th>
                        <th>Episode</th>
                        <th>Theme</th>
                        <th>Ideas</th>
                        <th>Music</th>
                        <th>Clips</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for session in sessions %}
                    <tr>
                        <td>
                            <code>{{ session.session_id[:8] }}...</code>
                        </td>
                        <td>{{ session.created_at }}</td>
                        <td>{{ session.episode or 'N/A' }}</td>
                        <td>{{ session.theme or 'N/A' }}</td>
                        <td>
                            <span class="badge bg-primary">{{ session.ideas_count }}</span>
                        </td>
                        <td>
                            <span class="badge bg-info">{{ session.music_count }}</span>
                        </td>
                        <td>
                            <span class="badge bg-success">{{ session.clips_count }}</span>
                        </td>
                        <td>
                            <a href="/session/{{ session.session_id }}" class="btn btn-sm btn-outline-primary">
                                <i class="fas fa-eye"></i> View
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        
        {% if not sessions %}
        <div class="alert alert-info">
            <i class="fas fa-info-circle"></i> No sessions found. Create your first mix!
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}